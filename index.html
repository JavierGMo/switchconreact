<!DOCTYPE html>
<html>
<head>
	<title>Title</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="app">
</div>

<script src="https://unpkg.com/react@17/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
<script type="text/babel">
	

	


	const SwitchChido = ({})=>{
		const [whoFirst, setWhoFirst] = React.useState({
			'pressfirst' : false,
			'whofirst' : 0,
			
		});
		const [first, setFirst] = React.useState(false);
		const [second, setSecond] = React.useState(false);
		const [third, setThird] = React.useState(false);
		
		

		const checksVacios = ()=>{
			
		};
		
		
		const html =  (
			<div>
				<div>
					<h1 style={{
						color : '#8bcdcd'
					}}>Switches Chidos con React XD</h1>
				</div>
				<div className="flex contain-switches">
					<label className="switch">
						<input
							type="checkbox"
							value={first}
							onChange={e=>setFirst(()=>{
								// console.log(`primero : ${!first}, segundo : ${second}, tercero ${third}`);
								const auxWhoFirst = {...whoFirst};
								// console.log(`Primero:  ${!first} ----- `);
								if(!auxWhoFirst['pressfirst'] && !first){
									auxWhoFirst['pressfirst'] = true;
									auxWhoFirst['whofirst'] = 1;
									setWhoFirst(auxWhoFirst);
								}
								console.log(`Condicion : ${!first && second && third}`);
								if(!first!==false && second!==false && third!==false){//Saber si los tres no estan vacios
									// const auxWhoFirst = {...whoFirst};
									
									
									switch(auxWhoFirst['whofirst']){
										case 1:
											setSecond(!second);
											break;
										case 2:
											setSecond(!second);
											break;
										case 3:
										setThird(!third);
											break;
										default:
											break;
											
									}
								}else{
									console.log('Entre a los no swith');
									if(first && auxWhoFirst['pressfirst']){
										auxWhoFirst['pressfirst'] = false;
										auxWhoFirst['whofirst'] = 0;
										setWhoFirst(auxWhoFirst);
									}
									
								}
								return !first;
							})}
							checked={first} />
						<span
							style={{
								backgroundColor : first?'#9d0191':'',
							}}
						className="slider round"></span>
					</label>
					<div className="textos">Bueno</div>
				</div>


				<div className="flex contain-switches">
					<label className="switch">
						<input
							type="checkbox"
							value={second}
							onChange={e=>setSecond(()=>{
								// console.log(`primero : ${first}, segundo : ${second}, tercero ${third}`);
								const auxWhoFirst = {...whoFirst};
								// console.log(`Segundo:  ${!second} ----- `);
								if(!auxWhoFirst['pressfirst'] && !second){
									auxWhoFirst['pressfirst'] = true;
									auxWhoFirst['whofirst'] = 2;
									setWhoFirst(auxWhoFirst);
								}
								if(first!==false && !second!==false && third!==false){
									// const auxWhoFirst = {...whoFirst};
									switch(auxWhoFirst['whofirst']){
										case 1:
											setThird(!third);
											break;
										case 2:
											setFirst(!first);
											break;
										case 3:
											setFirst(!first);
											break;
										default:
											break;
											
									}
									
								}else{
									
									if(second&&auxWhoFirst['pressfirst']){
										auxWhoFirst['pressfirst'] = false;
										auxWhoFirst['whofirst'] = 0;
										setWhoFirst(auxWhoFirst);
									}
								}
								return !second;
							})}
							checked={second} 
						/>
						<span
							style={{
								backgroundColor : second?'#fd3a69':'',
							}}
						className="slider round"></span>
					</label>
					<div className="textos">Bonito</div>
				</div>


				<div className="flex contain-switches">
					<label className="switch">
						<input
							type="checkbox"
							value={third}
							onChange={e=>setThird(()=>{
								// console.log(`primero : ${first}, segundo : ${second}, tercero ${third}`);
								const auxWhoFirst = {...whoFirst};
								// console.log(`Tercerp:  ${!third} ----- `);
								if(!auxWhoFirst['pressfirst'] && !third){
									auxWhoFirst['pressfirst'] = true;
									auxWhoFirst['whofirst'] = 3;
									setWhoFirst(auxWhoFirst);

								}
								if(first!==false && second!==false && !third!==false){
									switch(auxWhoFirst['whofirst']){
										case 1:
											setFirst(!first);
											break;
										case 2:
											setSecond(!second);
											break;
										case 3:
											setSecond(!second);
											break;
										default:
											break;
											
									}	
									
								}else{
									
									if(third&&auxWhoFirst['pressfirst']){
										auxWhoFirst['pressfirst'] = false;
										auxWhoFirst['whofirst'] = 0;
										setWhoFirst(auxWhoFirst);
									}
									
								}
								return !third;
							})}
							checked={third}
						/>
						<span
							style={{
								backgroundColor : third?'#fecd1a':'',
							}}
						className="slider round"></span>
					</label>
					<div className="textos">Barato</div>
				</div>

			</div>
			
		);

		return html;
	};
	

	const App = ()=>(
		<main>
			<SwitchChido />
		</main>
	);

	ReactDOM.render(<App />, document.getElementById('app'));
</script>
</body>
</html>